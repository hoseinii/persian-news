<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>تست BBC فارسی</title>
</head>
<body>
  <h1>بی‌بی‌سی فارسی</h1>
  <ul id="list">در حال بارگذاری...</ul>

  <script>
    fetch("https://api.allorigins.hexlet.app/get?url=" + encodeURIComponent("https://feeds.bbci.co.uk/persian/rss.xml"))
      .then(res => {
        if (!res.ok) throw new Error("Network response was not ok");
        return res.json();
      })
      .then(data => {
        const xml = new DOMParser().parseFromString(data.contents, "application/xml");
        const items = xml.querySelectorAll("item");
        const ul = document.getElementById("list");
        ul.innerHTML = "";
        items.forEach(item => {
          const li = document.createElement("li");
          li.innerHTML = `<a href="${item.querySelector("link").textContent}" target="_blank">${item.querySelector("title").textContent}</a>`;
          ul.appendChild(li);
        });
      })
      .catch(err => {
        document.getElementById("list").innerText = "خطا در بارگذاری";
        console.error(err);
      });
  </script>
</body>
</html>
